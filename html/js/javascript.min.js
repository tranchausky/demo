(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){"use strict";a.defineMode("javascript",function(b,d){function e(a){for(var b,c=!1,d=!1;null!=(b=a.next());){if(!c){if("/"==b&&!d)return;"["==b?d=!0:d&&"]"==b&&(d=!1)}c=!c&&"\\"==b}}function f(a,b,c){return Ra=a,Sa=c,b}function g(a,b){var c=a.next();if("\""==c||"'"==c)return b.tokenize=h(c),b.tokenize(a,b);if("."==c&&a.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return f("number","number");if("."==c&&a.match(".."))return f("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(c))return f(c);if("="==c&&a.eat(">"))return f("=>","operator");if("0"==c&&a.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return f("number","number");if(/\d/.test(c))return a.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),f("number","number");if("/"==c)return a.eat("*")?(b.tokenize=j,j(a,b)):a.eat("/")?(a.skipToEnd(),f("comment","comment")):Qa(a,b,1)?(e(a),a.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),f("regexp","string-2")):(a.eat("="),f("operator","operator",a.current()));if("`"==c)return b.tokenize=k,k(a,b);if("#"==c)return a.skipToEnd(),f("error","error");if("<"==c&&a.match("!--")||"-"==c&&a.match("->"))return a.skipToEnd(),f("comment","comment");if($a.test(c))return">"==c&&b.lexical&&">"==b.lexical.type||(a.eat("=")?("!"==c||"="==c)&&a.eat("="):/[<>*+\-]/.test(c)&&(a.eat(c),">"==c&&a.eat(c))),f("operator","operator",a.current());if(Ya.test(c)){a.eatWhile(Ya);var d=a.current();if("."!=b.lastType){if(Za.propertyIsEnumerable(d)){var g=Za[d];return f(g.type,g.style,d)}if("async"==d&&a.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return f("async","keyword",d)}return f("variable","variable",d)}}function h(a){return function(b,c){var d,e=!1;if(Va&&"@"==b.peek()&&b.match(_a))return c.tokenize=g,f("jsonld-keyword","meta");for(;null!=(d=b.next())&&(d!=a||e);)e=!e&&"\\"==d;return e||(c.tokenize=g),f("string","string")}}function j(a,b){for(var c,d=!1;c=a.next();){if("/"==c&&d){b.tokenize=g;break}d="*"==c}return f("comment","comment")}function k(a,b){for(var c,d=!1;null!=(c=a.next());){if(!d&&("`"==c||"$"==c&&a.eat("{"))){b.tokenize=g;break}d=!d&&"\\"==c}return f("quasi","string-2",a.current())}function l(a,b){b.fatArrowAt&&(b.fatArrowAt=null);var c=a.string.indexOf("=>",a.start);if(!(0>c)){if(Xa){var d=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(a.string.slice(a.start,c));d&&(c=d.index)}for(var e=0,f=!1,g=c-1;0<=g;--g){var h=a.string.charAt(g),i="([{}])".indexOf(h);if(0<=i&&3>i){if(!e){++g;break}if(0==--e){"("==h&&(f=!0);break}}else if(3<=i&&6>i)++e;else if(Ya.test(h))f=!0;else if(/["'\/`]/.test(h))for(;;--g){if(0==g)return;var j=a.string.charAt(g-1);if(j==h&&"\\"!=a.string.charAt(g-2)){g--;break}}else if(f&&!e){++g;break}}f&&!e&&(b.fatArrowAt=g)}}function m(a,b,c,d,e,f){this.indented=a,this.column=b,this.type=c,this.prev=e,this.info=f,null!=d&&(this.align=d)}function n(a,b){for(var c=a.localVars;c;c=c.next)if(c.name==b)return!0;for(var d=a.context;d;d=d.prev)for(var c=d.vars;c;c=c.next)if(c.name==b)return!0}function o(a,b,c,d,e){var f=a.cc;for(bb.state=a,bb.stream=e,bb.marked=null,bb.cc=f,bb.style=b,a.lexical.hasOwnProperty("align")||(a.lexical.align=!0);;){var g=f.length?f.pop():Wa?F:D;if(g(c,d)){for(;f.length&&f[f.length-1].lex;)f.pop()();return bb.marked?bb.marked:"variable"==c&&n(a,d)?"variable-2":b}}}function p(){for(var a=arguments.length-1;0<=a;a--)bb.cc.push(arguments[a])}function q(){return p.apply(null,arguments),!0}function r(a,b){for(var c=b;c;c=c.next)if(c.name==a)return!0;return!1}function s(a){var b=bb.state;if(bb.marked="def",b.context)if("var"==b.lexical.info&&b.context&&b.context.block){var c=t(a,b.context);if(null!=c)return void(b.context=c)}else if(!r(a,b.localVars))return void(b.localVars=new w(a,b.localVars));d.globalVars&&!r(a,b.globalVars)&&(b.globalVars=new w(a,b.globalVars))}function t(a,b){if(!b)return null;if(b.block){var c=t(a,b.prev);return c?c==b.prev?b:new v(c,b.vars,!0):null}return r(a,b.vars)?b:new v(b.prev,new w(a,b.vars),!1)}function u(a){return"public"==a||"private"==a||"protected"==a||"abstract"==a||"readonly"==a}function v(a,b,c){this.prev=a,this.vars=b,this.block=c}function w(a,b){this.name=a,this.next=b}function x(){bb.state.context=new v(bb.state.context,bb.state.localVars,!1),bb.state.localVars=c}function y(){bb.state.context=new v(bb.state.context,bb.state.localVars,!0),bb.state.localVars=null}function z(){bb.state.localVars=bb.state.context.vars,bb.state.context=bb.state.context.prev}function A(a,b){var c=function(){var c=bb.state,d=c.indented;if("stat"==c.lexical.type)d=c.lexical.indented;else for(var e=c.lexical;e&&")"==e.type&&e.align;e=e.prev)d=e.indented;c.lexical=new m(d,bb.stream.column(),a,null,c.lexical,b)};return c.lex=!0,c}function B(){var a=bb.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function C(a){function b(c){return c==a?q():";"==a||"}"==c||")"==c||"]"==c?p():q(b)}return b}function D(a,b){return"var"==a?q(A("vardef",b),ma,C(";"),B):"keyword a"==a?q(A("form"),H,D,B):"keyword b"==a?q(A("form"),D,B):"keyword d"==a?bb.stream.match(/^\s*$/,!1)?q():q(A("stat"),J,C(";"),B):"debugger"==a?q(C(";")):"{"==a?q(A("}"),y,$,B,z):";"==a?q():"if"==a?("else"==bb.state.lexical.info&&bb.state.cc[bb.state.cc.length-1]==B&&bb.state.cc.pop()(),q(A("form"),H,D,B,sa)):"function"==a?q(wa):"for"==a?q(A("form"),ta,D,B):"class"==a||Xa&&"interface"==b?(bb.marked="keyword",q(A("form","class"==a?a:b),Ba,B)):"variable"==a?Xa&&"declare"==b?(bb.marked="keyword",q(D)):Xa&&("module"==b||"enum"==b||"type"==b)&&bb.stream.match(/^\s*\w/,!1)?(bb.marked="keyword","enum"==b?q(Na):"type"==b?q(ya,C("operator"),ea,C(";")):q(A("form"),na,C("{"),A("}"),$,B,B)):Xa&&"namespace"==b?(bb.marked="keyword",q(A("form"),F,D,B)):Xa&&"abstract"==b?(bb.marked="keyword",q(D)):q(A("stat"),T):"switch"==a?q(A("form"),H,C("{"),A("}","switch"),y,$,B,B,z):"case"==a?q(F,C(":")):"default"==a?q(C(":")):"catch"==a?q(A("form"),x,E,D,B,z):"export"==a?q(A("stat"),Fa,B):"import"==a?q(A("stat"),Ha,B):"async"==a?q(D):"@"==b?q(F,D):p(A("stat"),F,C(";"),B)}function E(a){if("("==a)return q(za,C(")"))}function F(a,b){return I(a,b,!1)}function G(a,b){return I(a,b,!0)}function H(a){return"("==a?q(A(")"),F,C(")"),B):p()}function I(a,b,c){if(bb.state.fatArrowAt==bb.stream.start){var d=c?P:O;if("("==a)return q(x,A(")"),Y(za,")"),B,C("=>"),d,z);if("variable"==a)return p(x,na,C("=>"),d,z)}var e=c?L:K;return ab.hasOwnProperty(a)?q(e):"function"==a?q(wa,e):"class"==a||Xa&&"interface"==b?(bb.marked="keyword",q(A("form"),Aa,B)):"keyword c"==a||"async"==a?q(c?G:F):"("==a?q(A(")"),J,C(")"),B,e):"operator"==a||"spread"==a?q(c?G:F):"["==a?q(A("]"),Ma,B,e):"{"==a?Z(V,"}",null,e):"quasi"==a?p(M,e):"new"==a?q(Q(c)):"import"==a?q(F):q()}function J(a){return a.match(/[;\}\)\],]/)?p():p(F)}function K(a,b){return","==a?q(J):L(a,b,!1)}function L(a,b,c){var d=!1==c?K:L,e=!1==c?F:G;return"=>"==a?q(x,c?P:O,z):"operator"==a?/\+\+|--/.test(b)||Xa&&"!"==b?q(d):Xa&&"<"==b&&bb.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?q(A(">"),Y(ea,">"),B,d):"?"==b?q(F,C(":"),e):q(e):"quasi"==a?p(M,d):";"==a?void 0:"("==a?Z(G,")","call",d):"."==a?q(U,d):"["==a?q(A("]"),J,C("]"),B,d):Xa&&"as"==b?(bb.marked="keyword",q(ea,d)):"regexp"==a?(bb.state.lastType=bb.marked="operator",bb.stream.backUp(bb.stream.pos-bb.stream.start-1),q(e)):void 0}function M(a,b){return"quasi"==a?"${"==b.slice(b.length-2)?q(F,N):q(M):p()}function N(a){if("}"==a)return bb.marked="string-2",bb.state.tokenize=k,q(M)}function O(a){return l(bb.stream,bb.state),p("{"==a?D:F)}function P(a){return l(bb.stream,bb.state),p("{"==a?D:G)}function Q(a){return function(b){return"."==b?q(a?S:R):"variable"==b&&Xa?q(ja,a?L:K):p(a?G:F)}}function R(a,b){if("target"==b)return bb.marked="keyword",q(K)}function S(a,b){if("target"==b)return bb.marked="keyword",q(L)}function T(a){return":"==a?q(B,D):p(K,C(";"),B)}function U(a){if("variable"==a)return bb.marked="property",q()}function V(a,b){if("async"==a)return bb.marked="property",q(V);if("variable"==a||"keyword"==bb.style){if(bb.marked="property","get"==b||"set"==b)return q(W);var c;return Xa&&bb.state.fatArrowAt==bb.stream.start&&(c=bb.stream.match(/^\s*:\s*/,!1))&&(bb.state.fatArrowAt=bb.stream.pos+c[0].length),q(X)}return"number"==a||"string"==a?(bb.marked=Va?"property":bb.style+" property",q(X)):"jsonld-keyword"==a?q(X):Xa&&u(b)?(bb.marked="keyword",q(V)):"["==a?q(F,aa,C("]"),X):"spread"==a?q(G,X):"*"==b?(bb.marked="keyword",q(V)):":"==a?p(X):void 0}function W(a){return"variable"==a?(bb.marked="property",q(wa)):p(X)}function X(a){return":"==a?q(G):"("==a?p(wa):void 0}function Y(a,b,c){function d(e,f){if(c?-1<c.indexOf(e):","==e){var g=bb.state.lexical;return"call"==g.info&&(g.pos=(g.pos||0)+1),q(function(c,d){return c==b||d==b?p():p(a)},d)}return e==b||f==b?q():c&&-1<c.indexOf(";")?p(a):q(C(b))}return function(c,e){return c==b||e==b?q():p(a,d)}}function Z(a,b,c){for(var d=3;d<arguments.length;d++)bb.cc.push(arguments[d]);return q(A(b,c),Y(a,b),B)}function $(a){return"}"==a?q():p(D,$)}function aa(a,b){if(Xa){if(":"==a)return q(ea);if("?"==b)return q(aa)}}function ba(a,b){if(Xa&&(":"==a||"in"==b))return q(ea)}function ca(a){if(Xa&&":"==a)return bb.stream.match(/^\s*\w+\s+is\b/,!1)?q(F,da,ea):q(ea)}function da(a,b){if("is"==b)return bb.marked="keyword",q()}function ea(a,b){return"keyof"==b||"typeof"==b||"infer"==b?(bb.marked="keyword",q("typeof"==b?G:ea)):"variable"==a||"void"==b?(bb.marked="type",q(ia)):"|"==b||"&"==b?q(ea):"string"==a||"number"==a||"atom"==a?q(ia):"["==a?q(A("]"),Y(ea,"]",","),B,ia):"{"==a?q(A("}"),Y(ga,"}",",;"),B,ia):"("==a?q(Y(ha,")"),fa,ia):"<"==a?q(Y(ea,">"),ea):void 0}function fa(a){if("=>"==a)return q(ea)}function ga(a,b){return"variable"==a||"keyword"==bb.style?(bb.marked="property",q(ga)):"?"==b||"number"==a||"string"==a?q(ga):":"==a?q(ea):"["==a?q(C("variable"),ba,C("]"),ga):"("==a?p(xa,ga):void 0}function ha(a,b){return"variable"==a&&bb.stream.match(/^\s*[?:]/,!1)||"?"==b?q(ha):":"==a?q(ea):"spread"==a?q(ha):p(ea)}function ia(a,b){return"<"==b?q(A(">"),Y(ea,">"),B,ia):"|"==b||"."==a||"&"==b?q(ea):"["==a?q(ea,C("]"),ia):"extends"==b||"implements"==b?(bb.marked="keyword",q(ea)):"?"==b?q(ea,C(":"),ea):void 0}function ja(a,b){if("<"==b)return q(A(">"),Y(ea,">"),B,ia)}function ka(){return p(ea,la)}function la(a,b){if("="==b)return q(ea)}function ma(a,b){return"enum"==b?(bb.marked="keyword",q(Na)):p(na,aa,qa,ra)}function na(a,b){return Xa&&u(b)?(bb.marked="keyword",q(na)):"variable"==a?(s(b),q()):"spread"==a?q(na):"["==a?Z(pa,"]"):"{"==a?Z(oa,"}"):void 0}function oa(a,b){return"variable"!=a||bb.stream.match(/^\s*:/,!1)?("variable"==a&&(bb.marked="property"),"spread"==a?q(na):"}"==a?p():"["==a?q(F,C("]"),C(":"),oa):q(C(":"),na,qa)):(s(b),q(qa))}function pa(){return p(na,qa)}function qa(a,b){if("="==b)return q(G)}function ra(a){if(","==a)return q(ma)}function sa(a,b){if("keyword b"==a&&"else"==b)return q(A("form","else"),D,B)}function ta(a,b){return"await"==b?q(ta):"("==a?q(A(")"),ua,B):void 0}function ua(a){return"var"==a?q(ma,va):"variable"==a?q(va):p(va)}function va(a,b){return")"==a?q():";"==a?q(va):"in"==b||"of"==b?(bb.marked="keyword",q(F,va)):p(F,va)}function wa(a,b){return"*"==b?(bb.marked="keyword",q(wa)):"variable"==a?(s(b),q(wa)):"("==a?q(x,A(")"),Y(za,")"),B,ca,D,z):Xa&&"<"==b?q(A(">"),Y(ka,">"),B,wa):void 0}function xa(a,b){return"*"==b?(bb.marked="keyword",q(xa)):"variable"==a?(s(b),q(xa)):"("==a?q(x,A(")"),Y(za,")"),B,ca,z):Xa&&"<"==b?q(A(">"),Y(ka,">"),B,xa):void 0}function ya(a,b){return"keyword"==a||"variable"==a?(bb.marked="type",q(ya)):"<"==b?q(A(">"),Y(ka,">"),B):void 0}function za(a,b){return"@"==b&&q(F,za),"spread"==a?q(za):Xa&&u(b)?(bb.marked="keyword",q(za)):Xa&&"this"==a?q(aa,qa):p(na,aa,qa)}function Aa(a,b){return"variable"==a?Ba(a,b):Ca(a,b)}function Ba(a,b){if("variable"==a)return s(b),q(Ca)}function Ca(a,b){return"<"==b?q(A(">"),Y(ka,">"),B,Ca):"extends"==b||"implements"==b||Xa&&","==a?("implements"==b&&(bb.marked="keyword"),q(Xa?ea:F,Ca)):"{"==a?q(A("}"),Da,B):void 0}function Da(a,b){return"async"==a||"variable"==a&&("static"==b||"get"==b||"set"==b||Xa&&u(b))&&bb.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(bb.marked="keyword",q(Da)):"variable"==a||"keyword"==bb.style?(bb.marked="property",q(Xa?Ea:wa,Da)):"number"==a||"string"==a?q(Xa?Ea:wa,Da):"["==a?q(F,aa,C("]"),Xa?Ea:wa,Da):"*"==b?(bb.marked="keyword",q(Da)):Xa&&"("==a?p(xa,Da):";"==a||","==a?q(Da):"}"==a?q():"@"==b?q(F,Da):void 0}function Ea(a,b){if("?"==b)return q(Ea);if(":"==a)return q(ea,qa);if("="==b)return q(G);var c=bb.state.lexical.prev,d=c&&"interface"==c.info;return p(d?xa:wa)}function Fa(a,b){return"*"==b?(bb.marked="keyword",q(La,C(";"))):"default"==b?(bb.marked="keyword",q(F,C(";"))):"{"==a?q(Y(Ga,"}"),La,C(";")):p(D)}function Ga(a,b){return"as"==b?(bb.marked="keyword",q(C("variable"))):"variable"==a?p(G,Ga):void 0}function Ha(a){return"string"==a?q():"("==a?p(F):p(Ia,Ja,La)}function Ia(a,b){return"{"==a?Z(Ia,"}"):("variable"==a&&s(b),"*"==b&&(bb.marked="keyword"),q(Ka))}function Ja(a){if(","==a)return q(Ia,Ja)}function Ka(a,b){if("as"==b)return bb.marked="keyword",q(Ia)}function La(a,b){if("from"==b)return bb.marked="keyword",q(F)}function Ma(a){return"]"==a?q():p(Y(G,"]"))}function Na(){return p(A("form"),na,C("{"),A("}"),Y(Oa,"}"),B,B)}function Oa(){return p(na,qa)}function Pa(a,b){return"operator"==a.lastType||","==a.lastType||$a.test(b.charAt(0))||/[,.]/.test(b.charAt(0))}function Qa(a,b,c){return b.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(b.lastType)||"quasi"==b.lastType&&/\{\s*$/.test(a.string.slice(0,a.pos-(c||0)))}var Ra,Sa,Ta=b.indentUnit,Ua=d.statementIndent,Va=d.jsonld,Wa=d.json||Va,Xa=d.typescript,Ya=d.wordCharacters||/[\w$\xa1-\uffff]/,Za=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("keyword d"),f=a("operator"),g={type:"atom",style:"atom"};return{if:a("if"),while:b,with:b,else:c,do:c,try:c,finally:c,return:e,break:e,continue:e,new:a("new"),delete:d,void:d,throw:d,debugger:a("debugger"),var:a("var"),const:a("var"),let:a("var"),function:a("function"),catch:a("catch"),for:a("for"),switch:a("switch"),case:a("case"),default:a("default"),in:f,typeof:f,instanceof:f,true:g,false:g,null:g,undefined:g,NaN:g,Infinity:g,this:a("this"),class:a("class"),super:a("atom"),yield:d,export:a("export"),import:a("import"),extends:d,await:d}}(),$a=/[+\-*&%=<>!?|~^@]/,_a=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,ab={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},bb={state:null,column:null,marked:null,cc:null},c=new w("this",new w("arguments",null));return z.lex=!0,B.lex=!0,{startState:function(a){var b={tokenize:g,lastType:"sof",cc:[],lexical:new m((a||0)-Ta,0,"block",!1),localVars:d.localVars,context:d.localVars&&new v(null,null,!1),indented:a||0};return d.globalVars&&"object"==typeof d.globalVars&&(b.globalVars=d.globalVars),b},token:function(a,b){if(a.sol()&&(!b.lexical.hasOwnProperty("align")&&(b.lexical.align=!1),b.indented=a.indentation(),l(a,b)),b.tokenize!=j&&a.eatSpace())return null;var c=b.tokenize(a,b);return"comment"==Ra?c:(b.lastType="operator"==Ra&&("++"==Sa||"--"==Sa)?"incdec":Ra,o(b,c,Ra,Sa,a))},indent:function(b,e){if(b.tokenize==j)return a.Pass;if(b.tokenize!=g)return 0;var f,h=e&&e.charAt(0),k=b.lexical;if(!/^\s*else\b/.test(e))for(var l,m=b.cc.length-1;0<=m;--m)if(l=b.cc[m],l==B)k=k.prev;else if(l!=sa)break;for(;("stat"==k.type||"form"==k.type)&&("}"==h||(f=b.cc[b.cc.length-1])&&(f==K||f==L)&&!/^[,\.=+\-*:?[\(]/.test(e));)k=k.prev;Ua&&")"==k.type&&"stat"==k.prev.type&&(k=k.prev);var n=k.type,o=h==n;return"vardef"==n?k.indented+("operator"==b.lastType||","==b.lastType?k.info.length+1:0):"form"==n&&"{"==h?k.indented:"form"==n?k.indented+Ta:"stat"==n?k.indented+(Pa(b,e)?Ua||Ta:0):"switch"!=k.info||o||!1==d.doubleIndentSwitch?k.align?k.column+(o?0:1):k.indented+(o?0:Ta):k.indented+(/^(?:case|default)\b/.test(e)?Ta:2*Ta)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Wa?null:"/*",blockCommentEnd:Wa?null:"*/",blockCommentContinue:Wa?null:" * ",lineComment:Wa?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Wa?"json":"javascript",jsonldMode:Va,jsonMode:Wa,expressionAllowed:Qa,skipExpression:function(a){var b=a.cc[a.cc.length-1];(b==F||b==G)&&a.cc.pop()}}}),a.registerHelper("wordChars","javascript",/[\w$]/),a.defineMIME("text/javascript","javascript"),a.defineMIME("text/ecmascript","javascript"),a.defineMIME("application/javascript","javascript"),a.defineMIME("application/x-javascript","javascript"),a.defineMIME("application/ecmascript","javascript"),a.defineMIME("application/json",{name:"javascript",json:!0}),a.defineMIME("application/x-json",{name:"javascript",json:!0}),a.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),a.defineMIME("text/typescript",{name:"javascript",typescript:!0}),a.defineMIME("application/typescript",{name:"javascript",typescript:!0})});